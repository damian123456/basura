function _fnConvertToWidth(t,n){if(!t||null===t||""===t)return 0;n||(n=document.body);var e,o=document.createElement("div");return o.style.width=_fnStringToCss(t),n.appendChild(o),e=o.offsetWidth,n.removeChild(o),e}function _fnCalculateColumnWidths(t){t.nTable.offsetWidth;var n,e,o,l,i=0,d=0,r=t.aoColumns.length,s=$("th",t.nTHead),a=t.nTable.getAttribute("width"),h=t.nTable.parentNode;for(e=0;r>e;e++)t.aoColumns[e].bVisible&&(d++,null!==t.aoColumns[e].sWidth&&(n=_fnConvertToWidth(t.aoColumns[e].sWidthOrig,h),null!==n&&(t.aoColumns[e].sWidth=_fnStringToCss(n)),i++));if(r==s.length&&0===i&&d==r&&""===t.oScroll.sX&&""===t.oScroll.sY)for(e=0;e<t.aoColumns.length;e++)n=$(s[e]).width(),null!==n&&(t.aoColumns[e].sWidth=_fnStringToCss(n));else{var f=t.nTable.cloneNode(!1),u=t.nTHead.cloneNode(!0),C=document.createElement("tbody"),c=document.createElement("tr");f.removeAttribute("id"),f.appendChild(u),null!==t.nTFoot&&(f.appendChild(t.nTFoot.cloneNode(!0)),_fnApplyToChildren(function(t){t.style.width=""},f.getElementsByTagName("tr"))),f.appendChild(C),C.appendChild(c);var g=$("thead th",f);0===g.length&&(g=$("tbody tr:eq(0)>td",f));var p=_fnGetUniqueThs(t,u);for(o=0,e=0;r>e;e++){var m=t.aoColumns[e];m.bVisible&&null!==m.sWidthOrig&&""!==m.sWidthOrig?p[e-o].style.width=_fnStringToCss(m.sWidthOrig):m.bVisible?p[e-o].style.width="":o++}for(e=0;r>e;e++)if(t.aoColumns[e].bVisible){var T=_fnGetWidestNode(t,e);null!==T&&(T=T.cloneNode(!0),""!==t.aoColumns[e].sContentPadding&&(T.innerHTML+=t.aoColumns[e].sContentPadding),c.appendChild(T))}h.appendChild(f),""!==t.oScroll.sX&&""!==t.oScroll.sXInner?f.style.width=_fnStringToCss(t.oScroll.sXInner):""!==t.oScroll.sX?(f.style.width="",$(f).width()<h.offsetWidth&&(f.style.width=_fnStringToCss(h.offsetWidth))):""!==t.oScroll.sY?f.style.width=_fnStringToCss(h.offsetWidth):a&&(f.style.width=_fnStringToCss(a)),f.style.visibility="hidden",_fnScrollingWidthAdjust(t,f);var S=$("tbody tr:eq(0)",f).children();if(0===S.length&&(S=_fnGetUniqueThs(t,$("thead",f)[0])),""!==t.oScroll.sX){var W=0;for(o=0,e=0;e<t.aoColumns.length;e++)t.aoColumns[e].bVisible&&(W+=null===t.aoColumns[e].sWidthOrig?$(S[o]).outerWidth():parseInt(t.aoColumns[e].sWidth.replace("px",""),10)+($(S[o]).outerWidth()-$(S[o]).width()),o++);f.style.width=_fnStringToCss(W),t.nTable.style.width=_fnStringToCss(W)}for(o=0,e=0;e<t.aoColumns.length;e++)t.aoColumns[e].bVisible&&(l=$(S[o]).width(),null!==l&&l>0&&(t.aoColumns[e].sWidth=_fnStringToCss(l)),o++);var _=$(f).css("width");t.nTable.style.width=-1!==_.indexOf("%")?_:_fnStringToCss($(f).outerWidth()),f.parentNode.removeChild(f)}a&&(t.nTable.style.width=_fnStringToCss(a))}function _fnScrollingWidthAdjust(t,n){""===t.oScroll.sX&&""!==t.oScroll.sY?($(n).width(),n.style.width=_fnStringToCss($(n).outerWidth()-t.oScroll.iBarWidth)):""!==t.oScroll.sX&&(n.style.width=_fnStringToCss($(n).outerWidth()))}function _fnGetWidestNode(t,n){var e=_fnGetMaxLenString(t,n);if(0>e)return null;if(null===t.aoData[e].nTr){var o=document.createElement("td");return o.innerHTML=_fnGetCellData(t,e,n,""),o}return _fnGetTdNodes(t,e)[n]}function _fnGetMaxLenString(t,n){for(var e=-1,o=-1,l=0;l<t.aoData.length;l++){var i=_fnGetCellData(t,l,n,"display")+"";i=i.replace(/<.*?>/g,""),i.length>e&&(e=i.length,o=l)}return o}function _fnStringToCss(t){if(null===t)return"0px";if("number"==typeof t)return 0>t?"0px":t+"px";var n=t.charCodeAt(t.length-1);return 48>n||n>57?t:t+"px"}function _fnScrollBarWidth(){var t=document.createElement("p"),n=t.style;n.width="100%",n.height="200px",n.padding="0px";var e=document.createElement("div");n=e.style,n.position="absolute",n.top="0px",n.left="0px",n.visibility="hidden",n.width="200px",n.height="150px",n.padding="0px",n.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var o=t.offsetWidth;e.style.overflow="scroll";var l=t.offsetWidth;return o==l&&(l=e.clientWidth),document.body.removeChild(e),o-l}